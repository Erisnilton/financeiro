var W=Object.defineProperty;var R=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var T=(e,t,s)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,U=(e,t)=>{for(var s in t||(t={}))G.call(t,s)&&T(e,s,t[s]);if(R)for(var s of R(t))Q.call(t,s)&&T(e,s,t[s]);return e};import{d as X,a as g,o as p,c as P,w as d,r as y,b as I,e as h,f as Y,g as f,h as o,i as u,n as C,j as V,k as q,t as m,l as L,m as Z,p as z,F as x,q as E,s as ee,u as te,T as le,v as se,x as k,y as ae,z as b,A as oe,B as ne,C as re,D as ie,E as ue,G as de,H as ce,I as pe}from"./vendor.b1f344ee.js";const fe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}};fe();function ve(e){return typeof e=="object"&&e&&e.hasOwnProperty("id")}class _e{save(t){return console.log(t),ve(t)?this.update(t):this.create(t)}}class me extends _e{constructor(t){super();this.key=t}async find(t){var s;return JSON.parse((s=localStorage.getItem(this.key))!=null?s:"[]")}async findOne(t,s){return this.find().then(l=>l.find(a=>a.id===t))}async update(t){const s=await this.find(),l=s.find(a=>a.id===t.id);return l&&(Object.assign(l,t),localStorage.setItem(this.key,JSON.stringify(s))),l}async create(t){const s=await this.find(),l=U({id:Date.now()},t);return s.push(l),localStorage.setItem(this.key,JSON.stringify(s)),l}async delete(t){const s=await this.find(),l=s.findIndex(a=>a.id==t);l>=0&&(s.splice(l,1),localStorage.setItem(this.key,JSON.stringify(s)))}}class ge extends me{constructor(){super("divida")}}var S=Object.freeze(new ge);const B=X({id:"dividas",state:()=>({dividas:[]}),actions:{async save(e){const t=await S.save(e);return this.dividas=await S.find(),t},async deleteById(e){await S.delete(e),this.dividas=await S.find()}}});const $=g({props:{tag:{type:String,default:"button"},type:{type:String,default:"button"}},setup(e){return(t,s)=>(p(),P(I(e.tag),{class:"f-btn",type:e.type},{default:d(()=>[y(t.$slots,"default")]),_:3},8,["type"]))}});const ye={class:"header d-flex"},he={class:"container d-flex align-center"},be=o("h1",{class:"flex-fill"},"Financeiro",-1),xe={class:"nav"},$e={class:"d-flex"},Ve={class:"d-flex"},Se=o("span",null,"Inicio",-1),we={class:"d-flex"},ke=o("span",null,"Por pessoa ",-1),De=V("Trocar tema"),Ee={class:"container pt-2"},Ce=g({setup(e){const t=h(!0),s=B();return Y(async()=>{s.dividas=await S.find()}),(l,a)=>{const r=q("router-link"),n=q("router-view");return p(),f("div",{class:C(["f-app",t.value?"theme--dark":"theme--light","bg--background","fg--foreground","fill-w"])},[o("header",ye,[o("div",he,[be,o("nav",xe,[o("ul",$e,[o("li",Ve,[u(r,{class:"px-2 py-3",to:"/"},{default:d(()=>[Se]),_:1})]),o("li",we,[u(r,{class:"px-2 py-3",to:"/por-pessoa"},{default:d(()=>[ke]),_:1})])])]),u($,{onClick:a[0]||(a[0]=c=>t.value=!t.value)},{default:d(()=>[De]),_:1})])]),o("div",Ee,[u(n)])],2)}}}),Pe="modulepreload",F={},Le="/",O=function(t,s){return!s||s.length===0?t():Promise.all(s.map(l=>{if(l=`${Le}${l}`,l in F)return;F[l]=!0;const a=l.endsWith(".css"),r=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${r}`))return;const n=document.createElement("link");if(n.rel=a?"stylesheet":Pe,a||(n.as="script",n.crossOrigin=""),n.href=l,document.head.appendChild(n),a)return new Promise((c,i)=>{n.addEventListener("load",c),n.addEventListener("error",i)})})).then(()=>t())};const Be={key:0,class:"f-input__label"},Ne=["type","value","placeholder","step"],w=g({props:{type:{type:String,default:"text"},modelValue:{type:[String,Number],required:!1},label:{type:String,required:!1},placeholder:{type:String,required:!1},step:{type:[String,Number],default:1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,l=a=>t("update:modelValue",s.type==="number"?Number(a.target.value):String(a.target.value));return(a,r)=>(p(),P(I(e.label?"label":"div"),{class:"f-input"},{default:d(()=>[e.label?(p(),f("span",Be,m(e.label),1)):L("",!0),o("input",{class:"f-input__control",type:e.type,value:e.modelValue,placeholder:e.placeholder,step:e.step,onInput:l},null,40,Ne)]),_:1}))}});const Oe={key:0,class:"ml-1"},J=g({props:{modelValue:Boolean,label:{type:String,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,l=h(!1);function a(){t("update:modelValue",!s.modelValue)}return(r,n)=>(p(),f("label",{tabindex:"0",onFocus:n[0]||(n[0]=c=>l.value=!0),onBlur:n[1]||(n[1]=c=>l.value=!1),onClick:a,onKeyup:n[2]||(n[2]=Z(c=>l.value&&a(),["space"]))},[o("div",{class:C(["f-checkbox",{"f-checkbox--checked":e.modelValue}])},null,2),e.label?(p(),f("strong",Oe,m(e.label),1)):L("",!0)],32))}});var Ie=(e,t)=>{const s=e.__vccOpts||e;for(const[l,a]of t)s[l]=a;return s};const Ae={},Re={class:"f-dialog bg--panel fg--foreground"},Te={class:"f-dialog__header pa-2"},Ue={class:"f-dialog__body pa-2"},qe={class:"f-dialog__footer d-flex justify-flex-end pa-2"};function Fe(e,t){return p(),f("div",Re,[o("div",Te,[y(e.$slots,"header")]),o("div",Ue,[y(e.$slots,"default")]),o("div",qe,[y(e.$slots,"footer")])])}var M=Ie(Ae,[["render",Fe]]);const je=["onSubmit"],ze=o("h3",null,"Nova D\xEDvida",-1),Je={class:"mb-3 mr-2"},Me=V("Salvar"),He=g({emits:["save"],setup(e,{emit:t}){const s=B(),l=h({pessoa:"",nome:"",valor:0,pago:!1,createdAt:""});async function a(){const r=await s.save(l.value);l.value={pessoa:"",nome:"",valor:0,pago:!1,createdAt:""},t("save",r)}return(r,n)=>(p(),f("form",{onSubmit:z(a,["prevent"]),style:{width:"100vw","max-width":"480px"}},[u(M,{class:"fill-w"},{header:d(()=>[ze]),footer:d(()=>[u($,{type:"submit"},{default:d(()=>[Me]),_:1})]),default:d(()=>[o("div",null,[u(w,{modelValue:l.value.nome,"onUpdate:modelValue":n[0]||(n[0]=c=>l.value.nome=c),label:"Divida",placeholder:"Digite...",class:"mr-2"},null,8,["modelValue"]),u(w,{modelValue:l.value.pessoa,"onUpdate:modelValue":n[1]||(n[1]=c=>l.value.pessoa=c),label:"Pessoa",placeholder:"Digite...",class:"mr-2"},null,8,["modelValue"]),u(w,{modelValue:l.value.valor,"onUpdate:modelValue":n[2]||(n[2]=c=>l.value.valor=c),label:"Valor",placeholder:"Digite...",type:"number",step:"0.01",class:"mr-2"},null,8,["modelValue"]),o("div",Je,[u(J,{label:"Pago",modelValue:l.value.pago,"onUpdate:modelValue":n[3]||(n[3]=c=>l.value.pago=c)},null,8,["modelValue"])])])]),_:1})],40,je))}});const Ke={class:"fill-w f-table"},We=g({props:{columns:null,rows:null},setup(e){return(t,s)=>(p(),f("table",Ke,[o("thead",null,[y(t.$slots,"before-header"),o("tr",null,[(p(!0),f(x,null,E(e.columns,l=>{var a;return p(),f("th",{class:C([`text-${(a=l.align)!=null?a:"left"}`])},m(l.title),3)}),256))])]),o("tbody",null,[(p(!0),f(x,null,E(e.rows,(l,a)=>(p(),f("tr",null,[(p(!0),f(x,null,E(e.columns,r=>y(t.$slots,`column-${r.id}`,ee(te({row:l,index:a,column:r})),()=>{var n;return[o("td",{class:C([`text-${(n=r.align)!=null?n:"left"}`])},m(r.get(l)),3)]})),256))]))),256))]),o("tfoot",null,[y(t.$slots,"footer")])]))}});const H=g({props:{visible:Boolean,persistent:Boolean},emits:["update:visible","change","open","close"],setup(e,{emit:t}){function s(l){t("update:visible",l),t("change",l)}return(l,a)=>(p(),P(se,{to:".f-app"},[u(le,{name:"fade"},{default:d(()=>[e.visible?(p(),f("div",{key:0,class:"f-modal flex-center pa-4",onClick:a[1]||(a[1]=r=>s(!1))},[o("div",{onClick:a[0]||(a[0]=z(()=>{},["stop"])),class:"f-modal__contents ma-auto"},[y(l.$slots,"default")])])):L("",!0)]),_:3})]))}}),Ge={class:"text-center"},Qe={class:"text-right"},Xe=V("Excluir"),Ye=o("td",{colspan:"4"},null,-1),Ze=o("th",{class:"text-right"},"Total:",-1),et={class:"text-right"},tt=o("h3",null,"Excluir d\xEDvida",-1),lt=V("N\xE3o"),st=V("Sim"),at=g({props:{rows:null},setup(e){const t=e,s=B(),l=h({visible:!1,item:null}),a=k(()=>t.rows.reduce((i,v)=>i+v.valor,0).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),r=h([{id:"pago",title:"Pago",align:"center",get:()=>null},{id:"nome",title:"Titulo",align:"left",get:i=>i.nome},{id:"pessoa",title:"Pessoa",align:"left",get:i=>i.pessoa},{id:"dataCriacao",title:"Data cria\xE7\xE3o",align:"center",get:i=>i.createdAt&&new Date(i.createdAt).toLocaleDateString("pt-BR")},{id:"valor",title:"Valor",align:"right",get:i=>i.valor.toLocaleString("pt-br",{style:"currency",currency:"BRL"})},{id:"actions",title:"A\xE7\xF5es",align:"right",get:()=>null}]),n=k(()=>t.rows.map(i=>{const v=h(i);return ae(v,_=>{s.save(_)},{deep:!0}),v.value}));async function c(){var i;await s.deleteById((i=l.value.item)==null?void 0:i.id),l.value={visible:!1,item:null}}return(i,v)=>(p(),f(x,null,[u(We,{columns:r.value,rows:b(n)},{"before-header":d(()=>[y(i.$slots,"filter")]),"column-pago":d(({row:_,index:D,column:N})=>[o("td",Ge,[u(J,{modelValue:_.pago,"onUpdate:modelValue":K=>_.pago=K},null,8,["modelValue","onUpdate:modelValue"])])]),"column-actions":d(({row:_})=>[o("td",Qe,[u($,{onClick:D=>l.value={visible:!0,item:_}},{default:d(()=>[Xe]),_:2},1032,["onClick"])])]),footer:d(()=>[o("tr",null,[Ye,Ze,o("td",et,m(b(a)),1)])]),_:3},8,["columns","rows"]),u(H,{visible:l.value.visible,"onUpdate:visible":v[1]||(v[1]=_=>l.value.visible=_)},{default:d(()=>[u(M,null,{header:d(()=>[tt]),footer:d(()=>[u($,{class:"mr-2",onClick:v[0]||(v[0]=_=>l.value={visible:!1,item:null})},{default:d(()=>[lt]),_:1}),u($,{onClick:c},{default:d(()=>[st]),_:1})]),default:d(()=>{var _,D,N;return[o("p",null,' voc\xEA tem certeza que deseja excluir a d\xEDvida "'+m((_=l.value.item)==null?void 0:_.nome)+'" no valor de '+m((N=(D=l.value.item)==null?void 0:D.valor)==null?void 0:N.toLocaleString("pt-BR",{currency:"BRL"}))+"? ",1)]}),_:1})]),_:1},8,["visible"])],64))}}),ot={key:0,class:"f-input__label"},nt={disabled:"",value:void 0},rt=["value","selected"],j=g({props:{items:{type:Array,required:!0},getText:{type:Function,default:e=>{var t,s;return e&&typeof e=="object"?(s=(t=e.name)!=null?t:e.text)!=null?s:e.label:String(e)}},getValue:{type:Function,default:e=>{var t,s;return e&&typeof e=="object"?(s=(t=e.id)!=null?t:e.key)!=null?s:e.value:e}},modelValue:{},label:{type:String,required:!1},placeholder:{type:String,default:"Selecione..."}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,l=k(()=>s.items.map(r=>({label:s.getText(r),value:s.getValue(r),get selected(){return this.value===s.modelValue}}))),a=k({get:()=>s.modelValue,set:r=>t("update:modelValue",r)});return(r,n)=>(p(),P(I(e.label?"label":"div"),{class:"f-input mb-0"},{default:d(()=>[e.label?(p(),f("span",ot,m(e.label),1)):L("",!0),oe(o("select",{class:"f-input__control","onUpdate:modelValue":n[0]||(n[0]=c=>re(a)?a.value=c:null)},[o("option",nt,m(e.placeholder),1),(p(!0),f(x,null,E(b(l),c=>(p(),f("option",{value:c.value,selected:c.selected},m(c.label),9,rt))),256))],512),[[ne,b(a)]])]),_:1}))}}),it={colspan:"2",class:"text-right"},ut=V(" Nova D\xEDvida "),dt=g({setup(e){const t=h("todas"),s=h(),l=h(!1),a=ie([{value:"pago",label:"Pago"},{value:"pendente",label:"Pendente"},{value:"todas",label:"Todas"}]),r=B(),n=k(()=>{if(t.value==="todas")return r.dividas;const c=t.value==="pago";return r.dividas.filter(i=>i.pago===c)});return(c,i)=>(p(),f(x,null,[u(H,{visible:l.value,"onUpdate:visible":i[1]||(i[1]=v=>l.value=v)},{default:d(()=>[u(He,{onSave:i[0]||(i[0]=v=>l.value=!1)})]),_:1},8,["visible"]),u(at,{rows:b(n)},{filter:d(()=>[o("tr",null,[o("td",null,[u(j,{items:b(a),modelValue:t.value,"onUpdate:modelValue":i[2]||(i[2]=v=>t.value=v)},null,8,["items","modelValue"])]),o("td",null,[u(w,{placeholder:"Digite..."})]),o("td",null,[u(j,{items:b(a),value:s.value},null,8,["items","value"])]),o("td",null,[u(w,{placeholder:"Digite...",type:"date"})]),o("td",it,[u($,{onClick:i[3]||(i[3]=v=>l.value=!0)},{default:d(()=>[ut]),_:1})])])]),_:1},8,["rows"])],64))}}),ct=[{name:"cadastro",path:"/cadastro",component:()=>O(()=>import("./cadastro.feb60610.js"),[]),props:!0},{name:"for-teste",path:"/for-teste",component:()=>O(()=>import("./for-teste.68b132ef.js"),["assets/for-teste.68b132ef.js","assets/vendor.b1f344ee.js"]),props:!0},{name:"index",path:"/",component:dt,props:!0},{name:"por-pessoa",path:"/por-pessoa",component:()=>O(()=>import("./por-pessoa.c1a70b7b.js"),["assets/por-pessoa.c1a70b7b.js","assets/vendor.b1f344ee.js"]),props:!0}],pt=ue({history:de(),routes:ct}),A=ce(Ce);A.use(pe());A.use(pt);A.mount("#app");export{M as D,H as _,$ as a,at as b,B as u};
